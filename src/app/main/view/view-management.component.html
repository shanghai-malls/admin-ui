<div>
    <form nz-form class="gb-form">
        <div nz-row>
            <div nz-col nzSpan="9" >
                <nz-form-item nzFlex [nzGutter]="12">
                    <nz-form-label [nzSpan]="4">名字</nz-form-label>
                    <nz-form-control [nzSpan]="16">
                        <input nz-input [(ngModel)]="filter.name" [ngModelOptions]="{standalone: true}"/>
                    </nz-form-control>
                </nz-form-item>
            </div>
            <div nz-col nzSpan="9">
                <nz-form-item nzFlex [nzGutter]="12">
                    <nz-form-label [nzSpan]="4">路径</nz-form-label>
                    <nz-form-control [nzSpan]="16">
                        <input nz-input [(ngModel)]="filter.path" [ngModelOptions]="{standalone: true}"/>
                    </nz-form-control>
                </nz-form-item>
            </div>

            <div nz-col nzSpan="6" style="text-align: right">
                <button nz-button nzType="primary" (click)="search()">搜索</button>
                <button nz-button nzType="default" (click)="reset()">重置</button>
            </div>
        </div>
    </form>

    <ng-template #title>
        <ul class="d-buttons" style="justify-content: flex-end">
            <li><a nz-button routerLink="/designs" nzType="primary">新建视图</a></li>
        </ul>
    </ng-template>

    <nz-table class="text-align-left" [nzFrontPagination]="false" [nzShowPagination]="false" [nzScroll]="{x: '100%'}" [nzData]="displayViews" [nzTitle]="title" >
        <thead>
        <tr>
            <th style="min-width:100px">语言</th>
            <th >名字</th>
            <th >路径</th>
            <th style="min-width:200px">操作</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let view of displayViews">
            <td>{{languages[view.language]}}</td>
            <td>{{view.name}}</td>
            <td>{{view.path}}</td>
            <td>
                <button nz-button (click)="emit(view)" *ngIf="mode === 'select'">选择</button>
                <ng-container *ngIf="mode === 'view'">
                    <a nz-button [routerLink]="'/designs'+view.path" nzType="primary">编辑</a>
                    <button nz-button (click)="delete(view.path)" nzType="danger">删除</button>
                </ng-container>
            </td>
        </tr>
        </tbody>
    </nz-table>

</div>
